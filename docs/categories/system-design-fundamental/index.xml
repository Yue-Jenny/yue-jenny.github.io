<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>System Design Fundamental on Jenny blog</title>
        <link>https://yue-jenny.github.io/categories/system-design-fundamental/</link>
        <description>Recent content in System Design Fundamental on Jenny blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Mon, 16 Jan 2023 12:35:00 +0800</lastBuildDate><atom:link href="https://yue-jenny.github.io/categories/system-design-fundamental/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Security And HTTPS</title>
        <link>https://yue-jenny.github.io/2023/01/security-and-https/</link>
        <pubDate>Mon, 16 Jan 2023 12:35:00 +0800</pubDate>
        
        <guid>https://yue-jenny.github.io/2023/01/security-and-https/</guid>
        <description>&lt;h2 id=&#34;security-and-https&#34;&gt;Security And HTTPS&lt;/h2&gt;
&lt;h3 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h3&gt;
&lt;p&gt;é™¤äº†äº†è§£å‰/å¾Œç«¯èªè¨€èˆ‡æ¡†æ¶å¦‚ä½•ä½¿ç”¨å¤–ï¼Œä¹Ÿå¸Œæœ›èƒ½å° Http/Https çš„åŸç†èˆ‡å®‰å…¨æ©Ÿåˆ¶æœ‰æ‰€äº†è§£ã€‚&lt;/p&gt;
&lt;h3 id=&#34;prerequistites&#34;&gt;Prerequistites&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IP Packet&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€é IP å‚³é€çš„æœ€å°æ•¸æ“šçš„å–®ä½ï¼Œé€šå¸¸æœƒåŒ…å« IP Header èˆ‡ payload&lt;/li&gt;
&lt;li&gt;IP Header åŒ…å«ä¾†æºèˆ‡ç›®çš„åœ°çš„ IP Address&lt;/li&gt;
&lt;li&gt;payload å°±æ˜¯ä½ è¦å‚³é€çš„è³‡æ–™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Man-In-The-Middle Attack (åˆç¨±å‘¼ç‚º MITM)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ„æ€æ˜¯æ””æˆª client èˆ‡ server é–“å‚³é€çš„è¨Šæ¯ ğŸ’¬&lt;/li&gt;
&lt;li&gt;è‹¥ client èˆ‡ server é–“å‚³é€è¨Šæ¯æœ‰é€é&lt;code&gt;åŠ å¯†&lt;/code&gt;èˆ‡ &lt;code&gt;Https&lt;/code&gt; å¯é˜²æ­¢è³‡æ–™è¢«ç«Šå–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Symmetric Encryption (å°ç¨±åŠ å¯†)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ å¯†èˆ‡è§£å¯†è³‡æ–™éƒ½ä½¿ç”¨&lt;strong&gt;åŒä¸€æŠŠ key&lt;/strong&gt; ğŸ”‘&lt;/li&gt;
&lt;li&gt;ç¼ºé»æ˜¯å®‰å…¨æ€§æœƒæœ‰æ‰€ç–‘æ…®ï¼Œkey é€šå¸¸æœƒè¢«åˆ†äº«åˆ°ä¸€å€‹é»æˆ–å¤šå€‹é»&lt;/li&gt;
&lt;li&gt;å„ªé»æ˜¯é€Ÿåº¦æ¯”éå°ç¨±åŠ å¯†å¿« ğŸ‡&lt;/li&gt;
&lt;li&gt;æœ€å»£æ³›ä½¿ç”¨çš„æ¼”ç®—æ³•æ˜¯ Advanced Ecryption Standard(AES)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Asymmetric Encryption (éå°ç¨±åŠ å¯†)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ å¯†èˆ‡è§£å¯†è³‡æ–™æœƒåˆ©ç”¨åˆ°&lt;strong&gt;å…©æŠŠ key&lt;/strong&gt; ğŸ”‘ğŸ”‘ï¼Œåˆ†åˆ¥ç‚º public key èˆ‡ private key&lt;/li&gt;
&lt;li&gt;public key è² è²¬åŠ å¯†è³‡æ–™ï¼Œåªèƒ½åˆ©ç”¨ç›¸å°æ‡‰çš„ private key è§£å¯†è³‡æ–™&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ public key åˆ†äº«çµ¦éœ€è¦åŠ å¯†è³‡æ–™çš„ä¸€ç«¯ï¼Œè€Œ private key å‰‡éœ€è¦ &lt;strong&gt;å®‰å…¨åœ°ä¿å­˜&lt;/strong&gt; ãŠ™ï¸&lt;/li&gt;
&lt;li&gt;é€Ÿåº¦æœƒæ¯”å°ç¨±åŠ å¯†æ…¢ ğŸ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Advanced Ecryption Standard(AES)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ€å»£æ³›&lt;/strong&gt;ä½¿ç”¨çš„&lt;strong&gt;åŠ å¯†æ¨™æº–&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸‰ç¨®å°ç¨±æ¼”ç®—æ³•åˆ†åˆ¥ç‚º AES-128ã€AES-192ã€AES-256&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Transport Layer Security (TLS)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨&lt;strong&gt;å‚³è¼¸å±¤&lt;/strong&gt;çš„ä¸€ç¨®å”å®šï¼Œç›®çš„æ˜¯ç‚ºäº†ç¶²è·¯é€šè¨Šæ™‚çš„å®‰å…¨ï¼Œç¢ºä¿æ²’æœ‰ç¬¬ä¸‰æ–¹èƒ½ç«Šè½æˆ–è€…ç«Šå–ä»»ä½•è³‡è¨Š&lt;/li&gt;
&lt;li&gt;è¡ç”Ÿæ–¼å¦ä¸€ç¨®å®‰å…¨å”å®š Secure Socket Layer (SSL)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SSL certificate&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”± certificate authority (CA) é ’ç™¼çµ¦ server çš„æ•¸ä½æ†‘è­‰&lt;/li&gt;
&lt;li&gt;å…§å®¹åŒ…å« server ç«¯çš„ public keyï¼Œå› ç‚ºåœ¨ TLS Handshake éç¨‹ä¸­æœƒä½¿ç”¨åˆ°&lt;/li&gt;
&lt;li&gt;ç›®çš„æ˜¯ç¢ºèª&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;http-vs-https&#34;&gt;Http vs Https&lt;/h3&gt;
&lt;h4 id=&#34;http&#34;&gt;Http&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å…¨åç‚º HyperText Transfer Protocol&lt;/li&gt;
&lt;li&gt;ä¸€ç¨®å¸¸è¦‹çš„ç¶²è·¯é€šè¨Šå”è­°&lt;/li&gt;
&lt;li&gt;æµç¨‹æ˜¯ client é€å‡º http requestï¼Œè€Œ server é€å‡ºå›æ‡‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;https&#34;&gt;Https&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å…¨åç‚º HyperText Transfer Protocol &lt;strong&gt;Secure&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é¡§åæ€ç¾©æ˜¯ç‚ºäº†å¯æ–¼ç¶²è·¯ä¸ŠğŸ”&lt;strong&gt;å®‰å…¨åœ°&lt;/strong&gt;é€šè¨Šè€Œå‡ºç¾çš„ä¸€ç¨®ç¶²è·¯é€šè¨Šå”è­°&lt;/li&gt;
&lt;li&gt;ç‚ºäº†é”åˆ°ä¸Šè¿°è¦æ±‚ï¼Œå› æ­¤ server è¢«è¦æ±‚é ˆå…·å‚™ä»¥ä¸‹å…©é …
&lt;ul&gt;
&lt;li&gt;é ˆç²å¾—å¯ä¿¡ä»»çš„æ†‘è­‰(&lt;code&gt;SSL certificates&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;Transport Layer Security (TLS)&lt;/code&gt; åŠ å¯† client èˆ‡ server ç«¯çš„æ•¸æ“šã€‚TLS å¦‚ä½•é‹ä½œï¼Œè«‹å¾€ä¸‹çœ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tls-é€£æ¥æ˜¯é€é-tls-handshake-ä¾†å•Ÿå‹•&#34;&gt;TLS é€£æ¥æ˜¯é€é TLS Handshake ä¾†å•Ÿå‹•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æµç¨‹
&lt;ul&gt;
&lt;li&gt;client é€å‡º &lt;code&gt;client hello&lt;/code&gt; (éš¨æ©Ÿçš„ bytes) çµ¦ server&lt;/li&gt;
&lt;li&gt;server å›æ‡‰ &lt;code&gt;server hello&lt;/code&gt; (ä¹Ÿæ˜¯éš¨æ©Ÿçš„ bytes) ä»¥åŠ SSL certificate&lt;/li&gt;
&lt;li&gt;client é©—è­‰ CA é ’ç™¼çš„æ†‘è­‰ï¼Œç¢ºèªæ†‘è­‰æ­£ç¢ºå±¬æ–¼æ­¤ server æ“æœ‰&lt;/li&gt;
&lt;li&gt;client æ¥è‘—æœƒé€å‡ºä¸€çµ„ç”¨ public key åŠ å¯†çš„ &lt;code&gt;premaster secret&lt;/code&gt; çµ¦ server&lt;/li&gt;
&lt;li&gt;client å’Œ server å°‡æœƒä½¿ç”¨ &lt;code&gt;client hello&lt;/code&gt;, &lt;code&gt;server hello&lt;/code&gt;èˆ‡ &lt;code&gt;premaster secret&lt;/code&gt; ç”¢ç”Ÿå°ç¨±åŠ å¯†çš„ &lt;code&gt;session keys&lt;/code&gt;ï¼Œç”¨æ–¼å¾ŒçºŒçš„é€šè¨Šå…§å®¹çš„åŠ å¯†èˆ‡è§£å¯† ğŸ”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;tcp-åˆ©ç”¨-handshake-æ–¹å¼ä¾†é€£æ¥èˆ‡æ–·é€£&#34;&gt;TCP åˆ©ç”¨ Handshake æ–¹å¼ä¾†é€£æ¥èˆ‡æ–·é€£&lt;/h3&gt;
&lt;h4 id=&#34;tcp-ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹é€£ç·š&#34;&gt;TCP ä¸‰æ¬¡æ¡æ‰‹(å»ºç«‹é€£ç·š)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æµç¨‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š
&lt;ul&gt;
&lt;li&gt;å®¢æˆ¶ç«¯å‚³é€è«‹æ±‚ SYN å ±æ–‡çµ¦æœå‹™ç«¯ï¼Œå‚³é€å®Œç•¢ä¹‹å¾Œï¼Œå®¢æˆ¶ç«¯è™•æ–¼ SYN_Send ç‹€æ…‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š
&lt;ul&gt;
&lt;li&gt;æœå‹™ç«¯æ”¶åˆ°è«‹æ±‚å ±æ–‡ä¹‹å¾Œï¼Œ&lt;strong&gt;å¦‚æœåŒæ„é€£ç·šï¼Œæœƒå›å‚³ SYN + ACK æ‡‰ç­”å ±æ–‡&lt;/strong&gt;ï¼Œæœå‹™ç«¯ç‚ºSYN_Receiveç‹€æ…‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š
&lt;ul&gt;
&lt;li&gt;å®¢æˆ¶ç«¯æ¥æ”¶åˆ°æœå‹™ç«¯çš„ SYN + ACK ï¼Œç„¶å¾Œ&lt;strong&gt;å‚³é€ç¢ºèªå ±æ–‡ä½œç‚ºæ‡‰ç­”&lt;/strong&gt;ï¼Œå®¢æˆ¶ç«¯è½‰ç‚ºEstablishedç‹€æ…‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‚ºä»€éº¼ä¸€å®šè¦ä¸‰æ¬¡?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„é€£æ¥è«‹æ±‚å ±æ–‡æ®µçªç„¶åˆå‚³é€åˆ°äº†æœå‹™ç«¯ï¼Œå› è€Œç”¢ç”ŸéŒ¯èª¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcp-å››æ¬¡æ¡æ‰‹çµæŸé€£ç·š&#34;&gt;TCP å››æ¬¡æ¡æ‰‹(çµæŸé€£ç·š)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æµç¨‹
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡åˆ†æ‰‹
&lt;ul&gt;
&lt;li&gt;å®¢æˆ¶ç«¯å‚³é€FIN=1å‘Šè¨´æœå‹™ç«¯ï¼Œå®¢æˆ¶ç«¯æ‰€æœ‰çš„è³‡æ–™&lt;strong&gt;å…¨éƒ¨ç™¼é€å®Œç•¢&lt;/strong&gt;ï¼Œæœå‹™ç«¯å¯ä»¥é—œé–‰æ¥æ”¶äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡åˆ†æ‰‹
&lt;ul&gt;
&lt;li&gt;æœå‹™ç«¯æ¥æ”¶åˆ°å®¢æˆ¶ç«¯çš„é‡‹æ”¾è«‹æ±‚é€£ç·šä¹‹å¾Œï¼ŒçŸ¥é“å®¢æˆ¶ç«¯æ²’æœ‰è³‡æ–™å‚³é€çµ¦è‡ªå·±äº†ï¼Œç„¶å¾Œ&lt;strong&gt;æœå‹™ç«¯å‚³é€ACK=1å‘Šè¨´å®¢æˆ¶ç«¯æ¥æ”¶åˆ°ä½ ç™¼çµ¦æˆ‘çš„è¨Šæ¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰æ¬¡åˆ†æ‰‹
&lt;ul&gt;
&lt;li&gt;å‘Šè¨´å®¢æˆ¶ç«¯ï¼Œ&lt;strong&gt;æœå‹™ç«¯çš„æ‰€æœ‰è³‡æ–™å‚³é€å®Œç•¢&lt;/strong&gt;ï¼Œå®¢æˆ¶ç«¯ä½ ä¹Ÿå¯ä»¥é—œé–‰æ¥æ”¶è³‡æ–™é€£ç·šäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬å››æ¬¡åˆ†æ‰‹
&lt;ul&gt;
&lt;li&gt;å®¢æˆ¶ç«¯æ¥æ”¶åˆ°äº†æœå‹™ç«¯å‚³é€å®Œç•¢çš„è¨Šæ¯ä¹‹å¾Œï¼Œå°±&lt;strong&gt;å‚³é€ACK=1ï¼Œå‘Šè¨´æœå‹™ç«¯ï¼Œå®¢æˆ¶ç«¯å·²ç¶“æ¥æ”¶åˆ°ä½ çš„è¨Šæ¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åƒè€ƒè³‡æ–™-&#34;&gt;åƒè€ƒè³‡æ–™ ğŸ‘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;System expert&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;what-happens-in-a-tls-handshake&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ğŸ€ æœ€å¾Œï¼Œè‹¥å–œæ­¡æˆ‘çš„åˆ†äº«ï¼Œå¯ä»¥å¹«æˆ‘æ‹æ‹æ‰‹ğŸ‘ï¼Œæ˜¯å°æˆ‘æœ€å¤§çš„é¼“å‹µ!âœ¨&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
