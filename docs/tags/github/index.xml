<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Github on Jenny blog</title>
        <link>https://yue-jenny.github.io/tags/github/</link>
        <description>Recent content in Github on Jenny blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 12 Jan 2023 14:56:21 +0800</lastBuildDate><atom:link href="https://yue-jenny.github.io/tags/github/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>å¦‚ä½•è¨­è¨ˆèˆ‡å¯¦ä½œ Monorepo çš„ Github Workflow?</title>
        <link>https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/</link>
        <pubDate>Thu, 12 Jan 2023 14:56:21 +0800</pubDate>
        
        <guid>https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/</guid>
        <description>&lt;h2 id=&#34;å¦‚ä½•è¨­è¨ˆèˆ‡å¯¦ä½œ-monorepo-çš„-github-workflow&#34;&gt;å¦‚ä½•è¨­è¨ˆèˆ‡å¯¦ä½œ Monorepo çš„ Github Workflow?&lt;/h2&gt;
&lt;h3 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h3&gt;
&lt;p&gt;æœ‰é‘‘æ–¼è¶Šä¾†è¶Šå¤šäººä½¿ç”¨ monorepoï¼Œæƒ³ç ”ç©¶ä¸€ä¸‹ï¼Œç•¶åªæœ‰é‡å°æŸå€‹ project æœ‰ç¨‹å¼ç¢¼çš„ç•°å‹•æ™‚ï¼Œå¦‚ä½•å¯¦è¸ CI/CD&lt;/p&gt;
&lt;h3 id=&#34;ä»€éº¼æ˜¯-monorepo&#34;&gt;ä»€éº¼æ˜¯ monorepo?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é¡§åæ€ç¾©ï¼Œmono è¡¨ç¤ºä¸€å€‹ï¼Œrepo è¡¨ç¤º repositoryï¼Œä¹Ÿå°±æ˜¯&lt;strong&gt;ä¸€å€‹ repository åŒ…å«å¤šå€‹ projects&lt;/strong&gt;ï¼Œä¸¦ä¸”æ¸…æ¥šå®šç¾©å®ƒå€‘ä¹‹é–“çš„é—œä¿‚&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚å‰å¾Œç«¯é–‹ç™¼ï¼Œå°‡å‰å¾Œç«¯çš„ç¨‹å¼éƒ½æ”¾åœ¨åŒä¸€å€‹ repositoryï¼Œå°±æ˜¯ &lt;code&gt;monorepo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;çµæ§‹å¤§è‡´ä¸Šæœƒå‘ˆç¾å¦‚ä¸‹åœ–ï¼Œé€™æ¬¡èˆ‰ä¾‹æœ‰å…©å€‹ app åœ¨åŒä¸€å€‹ repository ä¸­
&lt;ul&gt;
&lt;li&gt;&lt;img src=&#34;https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/monorepo-apps.jpg&#34;
	width=&#34;373&#34;
	height=&#34;250&#34;
	srcset=&#34;https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/monorepo-apps_hucdc1b9450550e74ad13d597903be3338_16536_480x0_resize_q75_box.jpg 480w, https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/monorepo-apps_hucdc1b9450550e74ad13d597903be3338_16536_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;apps&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;149&#34;
		data-flex-basis=&#34;358px&#34;
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æƒ³çŸ¥é“å¿…ç”¨çš„åŸå› ã€å¥½è™•æˆ–æ¡å‘ç´€éŒ„ï¼Œå¯å…ˆåƒè€ƒ ğŸ‘‡
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://monorepo.tools/#what-is-a-monorepo&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;what-is-a-monorepo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.errorbaker.tw/posts/cwc329/monorepo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;monorepo ä¹‹æˆ‘è¦‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¦‚ä½•è¨­è¨ˆ-github-workflow&#34;&gt;å¦‚ä½•è¨­è¨ˆ Github workflow?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åƒè€ƒ&lt;a class=&#34;link&#34; href=&#34;https://blog.logrocket.com/creating-separate-monorepo-ci-cd-pipelines-github-actions/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Creating separate monorepo CI/CD pipelines with GitHub Actions&lt;/a&gt;ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»¥ project ä¾†å€åˆ† workflows æª”æ¡ˆï¼Œæœ‰ db.yamlã€gateway.yaml ä»¥åŠworker.yamlï¼Œå¦‚ä¸‹åœ–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç•¶ gateway application æœ‰ç¨‹å¼ç¢¼ç•°å‹•ï¼Œåªèƒ½åŸ·è¡Œ gateway.yamlï¼Œæ¸¬è©¦æˆ– build gateway image ç­‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/structure.png&#34;
	width=&#34;730&#34;
	height=&#34;477&#34;
	srcset=&#34;https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/structure_hu572f924bb4941d326d5972d19c2d9ffb_167082_480x0_resize_box_3.png 480w, https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/structure_hu572f924bb4941d326d5972d19c2d9ffb_167082_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;ref: https://blog.logrocket.com/creating-separate-monorepo-ci-cd-pipelines-github-actions/&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;153&#34;
		data-flex-basis=&#34;367px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¯¦ä½œ&#34;&gt;å¯¦ä½œ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Github Workflow YAML æª”æ¡ˆä¸­æ˜¯ä»¥ &lt;code&gt;on&lt;/code&gt; å®šç¾©ï¼Œå“ªäº› events å¯ä»¥å» trigger ä¸€å€‹ workflowï¼Œå› æ­¤æˆ‘å€‘éœ€è¦åœ¨é€™é‚Šå‹•ä¸€äº›æ‰‹è…³ï¼Œè®“ä»–åªæœ‰åœ¨ç•°å‹•ç‰¹å®š application æ™‚æ‰æœƒåŸ·è¡Œ workflow&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ©ç”¨ workflow syntax &lt;code&gt;paths&lt;/code&gt; æŒ‡å®šç¯„åœï¼Œç•¶ pet app åº•ä¸‹çš„æª”æ¡ˆæœ‰ç•°å‹•ï¼ŒåŸ·è¡Œé€™å€‹ workflow&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  paths:
    - &amp;#39;apps/pet/**&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœæƒ³è¦å†åŠ å…¥æŒ‡å®šç’°å¢ƒå‘¢?æ¯”å¦‚æŒ‡å®š &lt;code&gt;stage&lt;/code&gt; æˆ– &lt;code&gt;main&lt;/code&gt;ï¼Œå¯ä»¥åˆ©ç”¨ branches çš„ workflow syntax&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  branches: [&amp;#39;stage&amp;#39;]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çµåˆä»¥ä¸Šï¼Œæ•´å€‹çœ‹èµ·ä¾†æ‡‰è©²æœƒåƒé€™æ¨£ï¼ŒæŒ‡å®šåœ¨ &lt;code&gt;stage&lt;/code&gt; çš„ pet app æœ‰ç¨‹å¼ç¢¼è®ŠåŒ–æ™‚ï¼ŒåŸ·è¡Œé€™å€‹ workflow&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  on:
      push:
          branches: [&amp;#39;stage&amp;#39;]
          paths:
              - &amp;#39;apps/pet/**&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‚£å¦‚æœæ˜¯ç”¨ &lt;code&gt;pull request&lt;/code&gt; å‘¢?&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  on:
      push:
          branches: [&amp;#39;stage&amp;#39;]
          paths:
              - &amp;#39;apps/pet/**&amp;#39;
      pull_request:
          branches: [&amp;#39;stage&amp;#39;]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ³¨æ„äº‹é …&#34;&gt;æ³¨æ„äº‹é …&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;â— &amp;ldquo;You must store workflow files in the .github/workflows directory of your repository.&amp;rdquo;
&lt;ul&gt;
&lt;li&gt;Github Workflow åªæ”¯æ´ç¬¬ä¸€å±¤çš„ workflow yaml æª”æ¡ˆ&lt;/li&gt;
&lt;li&gt;ä¹Ÿå°±æ˜¯ï¼Œä»¥ä¸‹åœ–çš„çµæ§‹ä¾†æ”¾ workflow æª”æ¡ˆï¼ŒGithub æ˜¯ä¸æœƒåŸ·è¡Œçš„ä»»ä½• workflow çš„&lt;/li&gt;
&lt;li&gt;&lt;img src=&#34;https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/inefficient-structure.jpg&#34;
	width=&#34;442&#34;
	height=&#34;82&#34;
	srcset=&#34;https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/inefficient-structure_hu4ca78239c6104ca3c35ff8e64c25b833_8785_480x0_resize_q75_box.jpg 480w, https://yue-jenny.github.io/2023/01/%E5%A6%82%E4%BD%95%E8%A8%AD%E8%A8%88%E8%88%87%E5%AF%A6%E4%BD%9C-monorepo-%E7%9A%84-github-workflow/inefficient-structure_hu4ca78239c6104ca3c35ff8e64c25b833_8785_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;539&#34;
		data-flex-basis=&#34;1293px&#34;
	
&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ–‡ä»¶èªªæ˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¿ƒå¾—&#34;&gt;å¿ƒå¾—&lt;/h2&gt;
&lt;p&gt;ç¶“éé€™æ¬¡ï¼Œé™¤äº†äº†è§£ monorepo å¤–ï¼Œå°æ–¼ Github Actions çš„ Workflow syntax æ›´å¤šçš„èªè­˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åƒè€ƒè³‡æ–™-&#34;&gt;åƒè€ƒè³‡æ–™ ğŸ‘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.logrocket.com/creating-separate-monorepo-ci-cd-pipelines-github-actions/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Creating separate monorepo CI/CD pipelines with GitHub Actions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://monorepo.tools/#what-is-a-monorepo&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;what-is-a-monorepo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.errorbaker.tw/posts/cwc329/monorepo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;monorepo ä¹‹æˆ‘è¦‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ›´å¤š workflow syntax ä»‹ç´¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ğŸ€ æœ€å¾Œï¼Œè‹¥å–œæ­¡æˆ‘çš„åˆ†äº«ï¼Œå¯ä»¥å…è²»å¹«æˆ‘æŒ‰è®šï¼Œæ˜¯å°æˆ‘æœ€å¤§çš„é¼“å‹µ! âœ¨ âœ¨ âœ¨&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
