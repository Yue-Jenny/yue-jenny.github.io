<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Rate Limiting on Jenny blog</title>
        <link>https://yue-jenny.github.io/tags/rate-limiting/</link>
        <description>Recent content in Rate Limiting on Jenny blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 02 Feb 2023 10:55:49 +0800</lastBuildDate><atom:link href="https://yue-jenny.github.io/tags/rate-limiting/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>ç³»çµ±è¨­è¨ˆåŸºç¤ç­†è¨˜(å…­) Rate Limiting</title>
        <link>https://yue-jenny.github.io/2023/02/%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98%E5%85%AD-rate-limiting/</link>
        <pubDate>Thu, 02 Feb 2023 10:55:49 +0800</pubDate>
        
        <guid>https://yue-jenny.github.io/2023/02/%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98%E5%85%AD-rate-limiting/</guid>
        <description>&lt;h2 id=&#34;rate-limiting&#34;&gt;Rate Limiting&lt;/h2&gt;
&lt;h3 id=&#34;prerequistites&#34;&gt;Prerequistites&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;DDOS
&lt;ul&gt;
&lt;li&gt;åˆ†æ•£å¼é˜»æ–·æœå‹™æ”»æ“Šï¼ˆdistributed denial-of-service attackï¼‰äº¦ç¨±æ´ªæ°´æ”»æ“Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DoS
&lt;ul&gt;
&lt;li&gt;é˜»æ–·æœå‹™æ”»æ“Šï¼ˆè‹±èªï¼šdenial-of-service attackï¼‰&lt;/li&gt;
&lt;li&gt;é é˜²æ–¹å¼æ˜¯ä½¿ç”¨ rate limit, å¯ä»¥é™åˆ¶ IP, ä½¿ç”¨è€…å¸³æˆ¶, å€åŸŸç­‰ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rate-limiting-1&#34;&gt;Rate Limiting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ„æ€å°±æ˜¯é™æµ&lt;/li&gt;
&lt;li&gt;æ ¹æ“šç¶­åŸºç™¾ç§‘ï¼Œå®šç¾©æ˜¯ã€Œæ§åˆ¶è¨ˆç®—æ©Ÿç™¼é€æˆ–æ¥æ”¶çš„&lt;strong&gt;è«‹æ±‚ä¹‹é »ç‡&lt;/strong&gt;ã€&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rate-limiting-for-multiple-server&#34;&gt;Rate Limiting for Multiple Server&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;use &lt;strong&gt;Redis&lt;/strong&gt; to implement rate limiting for multiple servers&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;application-layer-å¦‚ä½•å¯¦ç¾-rate-limit&#34;&gt;Application Layer å¦‚ä½•å¯¦ç¾ Rate Limit&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¯¦ç¾æ–¹å¼
&lt;ul&gt;
&lt;li&gt;åœ¨ Node.js è£¡ï¼Œæœ‰ä¸€å€‹ç”¨ä¾†åšé™æµçš„ express middleware å«åšÂ &lt;a class=&#34;link&#34; href=&#34;https://www.npmjs.com/package/express-rate-limit&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;express-rate-limit&lt;/a&gt;ï¼Œå¯&lt;a class=&#34;link&#34; href=&#34;https://ithelp.ithome.com.tw/m/articles/10268910&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;çœ‹é€™ç¯‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºé»
&lt;ul&gt;
&lt;li&gt;åœ¨ API server è£¡é¢è‡ªå·±ç”¨ middleware åšé™æµï¼Œé›–ç„¶é€™æ¨£åšæ„Ÿè¦ºå¾ˆæ–¹ä¾¿ï¼Œä½†ä¹Ÿæœƒè®“ API server ç„¡æ³•å®Œå…¨å°ˆæ³¨åœ¨æ¥­å‹™é‚è¼¯ä¸Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-waf-web-application-firewall&#34;&gt;AWS WAF (Web Application Firewall)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç›®çš„æ˜¯ä¿è­·æ‚¨çš„ Web æ‡‰ç”¨ç¨‹å¼å…å—å¸¸è¦‹ Web å…¥ä¾µç¨‹å¼çš„å±å®³&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é‹ä½œæ–¹å¼&#34;&gt;é‹ä½œæ–¹å¼&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://yue-jenny.github.io/2023/02/%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98%E5%85%AD-rate-limiting/AWS-WAF.png&#34;
	width=&#34;2360&#34;
	height=&#34;699&#34;
	srcset=&#34;https://yue-jenny.github.io/2023/02/%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98%E5%85%AD-rate-limiting/AWS-WAF_hu506d3f345407d576fe677b6871abeb83_162306_480x0_resize_box_3.png 480w, https://yue-jenny.github.io/2023/02/%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88%E5%9F%BA%E7%A4%8E%E7%AD%86%E8%A8%98%E5%85%AD-rate-limiting/AWS-WAF_hu506d3f345407d576fe677b6871abeb83_162306_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;source: https://docs.aws.amazon.com/waf/latest/developerguide/how-aws-waf-works.html&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;337&#34;
		data-flex-basis=&#34;810px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;é—œæ–¼-aws-waf-components&#34;&gt;é—œæ–¼ AWS WAF components&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Web ACLs&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›®çš„æ˜¯ä¿è­· AWS resourcesï¼Œè—‰ç”±å»ºç«‹ä¸€çµ„ web ACL ä¸¦æ–°å¢ rules å»å®šç¾©ä¿è­·ç­–ç•¥&lt;/li&gt;
&lt;li&gt;å±¬æ–¼ AWS WAF resource&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Rules&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡§åæ€ç¾©ï¼Œå®šç¾©æª¢æŸ¥æ¨™æº– (inspection criteria)ï¼Œç•¶æœ‰ matching requestsï¼Œå¯ä»¥åšçš„äº‹æƒ…å¦‚å…è¨±é€šéã€è¨ˆç®—ä»–å€‘æˆ–è€…åŸ·è¡Œ CAPTCHA puzzles å»æª¢æŸ¥æ˜¯å¦ç‚ºæ©Ÿå™¨äºº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸å±¬æ–¼&lt;/strong&gt; AWS WAF resource&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Rule groups&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥çµ„åˆè‡ªå·±çš„ rule groupsï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ web ACL ä¸­å®šç¾©è¦å‰‡&lt;/li&gt;
&lt;li&gt;å±¬æ–¼ AWS WAF resource&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é—œæ–¼-web-acl-capacity-units-wcu&#34;&gt;é—œæ–¼ Web ACL capacity units (WCU)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;strong&gt;WCU ä¾†è¨ˆç®—èˆ‡æ§åˆ¶é‹è¡Œè¦å‰‡ã€è¦å‰‡çµ„å’Œ Web ACL æ‰€éœ€çš„&lt;/strong&gt;æ“ä½œè³‡æº
&lt;ul&gt;
&lt;li&gt;For example, a size constraint rule statement uses fewer WCUs than a statement that inspects against a regex pattern set.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AWS WAF æœƒç®¡ç† &lt;strong&gt;Rule capacity, Rule group capacity, Web ACL capacity&lt;/strong&gt;ï¼Œè©³æƒ…å¯ä»¥åƒè€ƒ&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/how-aws-waf-works.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é€™ç¯‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é—œæ–¼-resources-that-you-can-protect-with-aws-waf&#34;&gt;é—œæ–¼ Resources that you can protect with AWS WAF&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ AWS WAF web ACL å»ä¿è­·&lt;strong&gt;å…¨çƒæˆ–å€åŸŸæ€§&lt;/strong&gt;çš„ resource typesï¼Œåªéœ€è¦å°‡ web ACL é€£çµåˆ°ä½ æƒ³è¦ä¿è­·çš„ resources ä¸Šï¼Œå®˜æ–¹æä¾› &lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/how-aws-waf-works.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Amazon CloudFront ä»¥åŠ Regional resources ç‰¹åˆ¥èªªæ˜&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;Note: &lt;a class=&#34;link&#34; href=&#34;https://aws.amazon.com/tw/cloudfront/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Amazon CloudFront&lt;/a&gt; æ˜¯ä¸€é …&lt;strong&gt;å…§å®¹äº¤ä»˜ç¶²è·¯(CDN)&lt;/strong&gt; æœå‹™ï¼Œå¯å”åŠ©æ‚¨ä»¥é«˜é€Ÿæ•ˆèƒ½ã€å®‰å…¨å’Œé–‹ç™¼äººå“¡æ˜“ç”¨æ€§å¿«é€Ÿã€å¯é åœ°åˆ†ç™¼éœæ…‹å’Œå‹•æ…‹å…§å®¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é™åˆ¶
&lt;ul&gt;
&lt;li&gt;ä¸€å€‹ web ACL å¯ä»¥é€£çµå¤šå€‹ AWS resourcesï¼Œä¸€å€‹ AWS resource åƒ…é€£çµä¸€å€‹ web ACL&lt;/li&gt;
&lt;li&gt;ä¸€å€‹ web ACL å¯ä»¥é€£çµå¤šå€‹ CloudFront distributionsï¼Œä¸”å·²é€£çµåˆ° CloudFront distribution çš„ web ACL &lt;strong&gt;ä¸èƒ½&lt;/strong&gt;å†å»é€£çµå…¶ä»– AWS resource type&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½¿ç”¨æƒ…å¢ƒèˆ‰ä¾‹-3-é»&#34;&gt;ä½¿ç”¨æƒ…å¢ƒï¼Œèˆ‰ä¾‹ 3 é»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/waf-rules.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç¯©é¸ Web æµé‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;å»ºç«‹è¦å‰‡ä»¥æ ¹æ“šå„ç¨®æ¢ä»¶ç¯©é¸ Web è«‹æ±‚ï¼Œä¾‹å¦‚ IP åœ°å€ã€HTTP æ¨™é ­å’Œå…§æ–‡ï¼Œæˆ–è‡ªè¨‚ URIã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/waf-atp.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é˜²æ­¢å¸³æˆ¶æ¥ç®¡è©é¨™&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;ç›£æ§æ‡‰ç”¨ç¨‹å¼çš„ç™»å…¥é é¢ï¼Œåµæ¸¬ä»¥ç›œç”¨æ†‘è­‰å°ä½¿ç”¨è€…å¸³æˆ¶é€²è¡Œçš„æœªç¶“æˆæ¬Šå­˜å–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/APIReference/Welcome.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½¿ç”¨ API ç®¡ç† AWS WAF&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªå‹•å»ºç«‹å’Œç¶­è­·è¦å‰‡ï¼Œä¸¦å°‡é€™äº›è¦å‰‡ä½µå…¥é–‹ç™¼å’Œè¨­è¨ˆç¨‹åºä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¯”è¼ƒ-aws-waf-aws-shield-èˆ‡-aws-firewall-manager&#34;&gt;æ¯”è¼ƒ AWS WAF, AWS Shield èˆ‡ AWS Firewall Manager&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS WAF&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;monitor requests that are forwarded to your web applications and control access to your content.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/shield-chapter.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS Shield&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;help protect against &lt;strong&gt;DDoS&lt;/strong&gt; attacks.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/fms-chapter.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS Firewall Manager&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;set up your firewall rules and apply the rules automatically across accounts and resources, even as new resources are added.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åƒè€ƒè³‡æ–™-&#34;&gt;åƒè€ƒè³‡æ–™ ğŸ‘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/what-is-aws-waf.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;What are AWS WAF, AWS Shield, and AWS Firewall Manager?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/waf/latest/developerguide/how-aws-waf-works.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;How AWS WAF works&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://aws.amazon.com/tw/cloudfront/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½å»¶é²å…§å®¹äº¤ä»˜ç¶²è·¯ (CDN) - Amazon CloudFront - Amazon Web Services&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.npmjs.com/package/express-rate-limit&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;express-rate-limit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ğŸ€ è‹¥å–œæ­¡æˆ‘çš„åˆ†äº«ï¼Œå¯ä»¥å¹«æˆ‘æ‹æ‹æ‰‹ğŸ‘ï¼Œæ˜¯å°æˆ‘æœ€å¤§çš„é¼“å‹µ&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
